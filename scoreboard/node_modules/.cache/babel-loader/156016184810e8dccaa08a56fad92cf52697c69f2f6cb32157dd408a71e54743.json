{"ast":null,"code":"import axios from \"axios\";\nlet scoreboardCache;\n\n//league number 2: Champ League, 39: Prem League, 78: Bundesliga, 3: Europa League, 61: Ligue 1, 140: laliga, 253: mls, 135: serie A\n\nexport class ApiService {\n  constructor() {\n    this.getScoreBoard = () => {\n      if (!scoreboardCache) {\n        console.log(111);\n        const options = {\n          method: 'GET',\n          url: 'https://api-football-v1.p.rapidapi.com/v3/standings',\n          params: {\n            league: '39',\n            season: '2024'\n          },\n          headers: {\n            'x-rapidapi-key': '39078bce62msh6328de9fc911fbbp1f2c47jsn26c13a67abc9',\n            'x-rapidapi-host': 'api-football-v1.p.rapidapi.com'\n          }\n        };\n        scoreboardCache = axios.request(options).then(response => {\n          return response.data.response[0];\n        });\n        return scoreboardCache;\n      } else {\n        return scoreboardCache;\n      }\n    };\n    this.getAllLeauges = () => {\n      const options = {\n        method: 'GET',\n        url: 'https://api-football-v1.p.rapidapi.com/v3/leagues',\n        params: {\n          season: '2024'\n        },\n        headers: {\n          'x-rapidapi-key': '39078bce62msh6328de9fc911fbbp1f2c47jsn26c13a67abc9',\n          'x-rapidapi-host': 'api-football-v1.p.rapidapi.com'\n        }\n      };\n      return axios.request(options).then(response => {\n        return response.data.response[0].map(item => {\n          return {\n            name: item.league.name,\n            logo: item.leauge.logo\n          };\n        });\n      });\n    };\n  }\n}","map":{"version":3,"names":["axios","scoreboardCache","ApiService","constructor","getScoreBoard","console","log","options","method","url","params","league","season","headers","request","then","response","data","getAllLeauges","map","item","name","logo","leauge"],"sources":["C:/Users/Home/Documents/sports-scoreboard/scoreboard/src/services/apiService.ts"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport interface StandingsData {\r\n    league: {\r\n        name: string;\r\n        standings: any[];\r\n        country: string;\r\n        logo: string;\r\n    }\r\n}\r\n\r\nexport interface LeagueData {\r\n    country: {\r\n      code: string;\r\n      flag: string;\r\n      name: string;\r\n    }\r\n    name: string;\r\n    logo: string;\r\n}\r\n\r\nlet  scoreboardCache: Promise<StandingsData> | undefined;\r\n\r\n\r\n\r\n//league number 2: Champ League, 39: Prem League, 78: Bundesliga, 3: Europa League, 61: Ligue 1, 140: laliga, 253: mls, 135: serie A\r\n\r\nexport class ApiService {\r\n    getScoreBoard = (): Promise<StandingsData> => {\r\n        if (!scoreboardCache) {\r\n            console.log(111);\r\n        const options = {\r\n            method: 'GET',\r\n            url: 'https://api-football-v1.p.rapidapi.com/v3/standings',\r\n            params: {\r\n              league: '39',\r\n              season: '2024'\r\n            },\r\n            headers: {\r\n              'x-rapidapi-key': '39078bce62msh6328de9fc911fbbp1f2c47jsn26c13a67abc9',\r\n              'x-rapidapi-host': 'api-football-v1.p.rapidapi.com'\r\n            }\r\n          };\r\n          scoreboardCache = axios.request(options).then(response => {\r\n            return response.data.response[0] as StandingsData;\r\n          });\r\n          return scoreboardCache;\r\n        }else {\r\n            return (scoreboardCache);\r\n        }\r\n    }\r\n\r\n    getAllLeauges = (): Promise<LeagueData[]> => {\r\n      \r\n      const options = {\r\n        method: 'GET',\r\n        url: 'https://api-football-v1.p.rapidapi.com/v3/leagues',\r\n        params: {season: '2024'},\r\n        headers: {\r\n          'x-rapidapi-key': '39078bce62msh6328de9fc911fbbp1f2c47jsn26c13a67abc9',\r\n          'x-rapidapi-host': 'api-football-v1.p.rapidapi.com'\r\n        }\r\n      };\r\n      return axios.request(options).then(response => {\r\n        return response.data.response[0].map(item => {\r\n          return {\r\n            name: item.league.name,\r\n            logo: item.leauge.logo,\r\n            \r\n          } as LeagueData;\r\n        });\r\n      });\r\n    }\r\n\r\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAqBzB,IAAKC,eAAmD;;AAIxD;;AAEA,OAAO,MAAMC,UAAU,CAAC;EAAAC,YAAA;IAAA,KACpBC,aAAa,GAAG,MAA8B;MAC1C,IAAI,CAACH,eAAe,EAAE;QAClBI,OAAO,CAACC,GAAG,CAAC,GAAG,CAAC;QACpB,MAAMC,OAAO,GAAG;UACZC,MAAM,EAAE,KAAK;UACbC,GAAG,EAAE,qDAAqD;UAC1DC,MAAM,EAAE;YACNC,MAAM,EAAE,IAAI;YACZC,MAAM,EAAE;UACV,CAAC;UACDC,OAAO,EAAE;YACP,gBAAgB,EAAE,oDAAoD;YACtE,iBAAiB,EAAE;UACrB;QACF,CAAC;QACDZ,eAAe,GAAGD,KAAK,CAACc,OAAO,CAACP,OAAO,CAAC,CAACQ,IAAI,CAACC,QAAQ,IAAI;UACxD,OAAOA,QAAQ,CAACC,IAAI,CAACD,QAAQ,CAAC,CAAC,CAAC;QAClC,CAAC,CAAC;QACF,OAAOf,eAAe;MACxB,CAAC,MAAK;QACF,OAAQA,eAAe;MAC3B;IACJ,CAAC;IAAA,KAEDiB,aAAa,GAAG,MAA6B;MAE3C,MAAMX,OAAO,GAAG;QACdC,MAAM,EAAE,KAAK;QACbC,GAAG,EAAE,mDAAmD;QACxDC,MAAM,EAAE;UAACE,MAAM,EAAE;QAAM,CAAC;QACxBC,OAAO,EAAE;UACP,gBAAgB,EAAE,oDAAoD;UACtE,iBAAiB,EAAE;QACrB;MACF,CAAC;MACD,OAAOb,KAAK,CAACc,OAAO,CAACP,OAAO,CAAC,CAACQ,IAAI,CAACC,QAAQ,IAAI;QAC7C,OAAOA,QAAQ,CAACC,IAAI,CAACD,QAAQ,CAAC,CAAC,CAAC,CAACG,GAAG,CAACC,IAAI,IAAI;UAC3C,OAAO;YACLC,IAAI,EAAED,IAAI,CAACT,MAAM,CAACU,IAAI;YACtBC,IAAI,EAAEF,IAAI,CAACG,MAAM,CAACD;UAEpB,CAAC;QACH,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ,CAAC;EAAA;AAEL","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}